create or replace PROCEDURE DELETE_SLA_VALIDATION_SP
(
  AGCY_PK IN NUMBER 
, SRN_V IN VARCHAR2 
, SRVC_CODE IN VARCHAR2 
) AS 


BEGIN


Delete from ACTV_SLA_INSTANCE where SLA_INSTANCE_REF_ID = AGCY_PK and SLA_INSTANCE_REF_TYPE like 'FI%';

IF (SRVC_CODE = '010') THEN

Delete from FI_BLOCK_SUMMARY_VALIDATION where SRN = SRN_V;

ELSIF (SRVC_CODE = '011') THEN
Delete from FI_GARNISH_SUMMARY_VALIDATION where SRN = SRN_V;

END IF ;
EXCEPTION
	WHEN OTHERs THEN
		Raise_application_error(-20322, 'UNKNOWN ERROR>>'|| SQLERRM); 
END DELETE_SLA_VALIDATION_SP;