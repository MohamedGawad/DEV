CREATE SEQUENCE GARNISH_EXEC_REQST_SEQ INCREMENT BY 1 START WITH 1 MAXVALUE 9999999999999999999999999999 MINVALUE 1;
CREATE SEQUENCE GARNISH_EXEC_RESP_SEQ INCREMENT BY 1 START WITH 1 MAXVALUE 9999999999999999999999999999 MINVALUE 1;

CREATE TABLE GARNISH_EXEC_REQST 
(
  GARNISH_EXEC_REQST_ID NUMBER default GARNISH_EXEC_REQST_SEQ.nextval
, AGCY_SRVC_REQST_ID NUMBER NOT NULL 
, DCSN_NUM VARCHAR2(30 CHAR) NOT NULL 
, DCSN_DATE DATE NOT NULL 
, CASE_TYPE VARCHAR2(2 CHAR) NOT NULL 
, DURATION_TYPE VARCHAR2(2 CHAR) NOT NULL 
, START_DATE DATE NOT NULL
, PERIOD NUMBER
, END_DATE DATE
, AMT_VAL FLOAT
, AMT_CUR VARCHAR2(3 CHAR)
, BAI_NUM VARCHAR2(24 CHAR) 
, BAI_IBAN VARCHAR2(1 CHAR) 
, BAI_BIC VARCHAR2(5 CHAR) 
, CONSTRAINT GARNISH_EXEC_REQST_PK PRIMARY KEY 
  (
    GARNISH_EXEC_REQST_ID 
  )
  USING INDEX 
  (
      CREATE UNIQUE INDEX GARNISH_EXEC_REQST_PK ON GARNISH_EXEC_REQST (GARNISH_EXEC_REQST_ID ASC) 
      LOGGING 
      PCTFREE 10 
      INITRANS 2 
      STORAGE 
      ( 
        BUFFER_POOL DEFAULT 
      ) 
      NOPARALLEL 
  )
  ENABLE 
) 
LOGGING 
PCTFREE 10 
INITRANS 1 
STORAGE 
( 
  BUFFER_POOL DEFAULT 
) 
NOCOMPRESS;

ALTER TABLE GARNISH_EXEC_REQST
ADD CONSTRAINT GARNISH_EXEC_REQST_FK1 FOREIGN KEY
(
  AGCY_SRVC_REQST_ID 
)
REFERENCES AGCY_SRVC_REQST
(
  AGCY_SRVC_REQST_ID 
)
ENABLE;



CREATE TABLE GARNISH_EXEC_RESP 
(
  GARNISH_EXEC_RESP_ID NUMBER default GARNISH_EXEC_RESP_SEQ.nextval
, EXETR_SRVC_TASK_ID NUMBER NOT NULL 
,CUST_NAME VARCHAR2(100 CHAR) 
,CUST_ID VARCHAR2(20 CHAR) 
,CUST_ID_TYPE VARCHAR2(10 CHAR)
,CUST_NAT_CD VARCHAR2(3 CHAR)
, EXE_DATE_TIME DATE NOT NULL 
, TOTAL_AMT FLOAT 
, PENDING_AMT FLOAT 
, CONSTRAINT GARNISH_EXEC_RESP_PK PRIMARY KEY 
  (
    GARNISH_EXEC_RESP_ID 
  )
  ENABLE 
);

ALTER TABLE GARNISH_EXEC_RESP
ADD CONSTRAINT GARNISH_EXEC_RESP_FK1 FOREIGN KEY
(
  EXETR_SRVC_TASK_ID 
)
REFERENCES EXETR_SRVC_TASK
(
  EXETR_SRVC_TASK_ID 
)
ENABLE;

CREATE SEQUENCE EXETR_SRVC_TASK_EXTRA_INFO_SEQ INCREMENT BY 1 START WITH 1 MAXVALUE 9999999999999999999999999999 MINVALUE 1;

CREATE TABLE EXETR_SRVC_TASK_EXTRA_INFO 
(
  EXETR_SRVC_TASK_EXTRA_INFO_ID NUMBER default EXETR_SRVC_TASK_EXTRA_INFO_SEQ.nextval
, MSGUID VARCHAR2(100 CHAR) 
, INFO_KEY VARCHAR2(265 CHAR) 
, INFO_VALUE VARCHAR2(256 CHAR) 
, CONSTRAINT EXETR_SRVC_TASK_EXTRA_INFO_PK PRIMARY KEY 
  (
    EXETR_SRVC_TASK_EXTRA_INFO_ID 
  )
  ENABLE 
);

Alter table FI_BLOCK_SUMMARY_VALIDATION add (ACC_NUM VARCHAR2(24 CHAR),IS_IBAN VARCHAR2(1 CHAR));

Alter table FI_GARNISH_SUMMARY_VALIDATION add (ACC_NUM VARCHAR2(24 CHAR),IS_IBAN VARCHAR2(1 CHAR));
